<Window x:Class="ruler.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="螢幕半透明尺" Height="150" Width="600"
        WindowStyle="None" 
        AllowsTransparency="True" 
        
        Background= "Transparent"
        
        Topmost="True" 
        ResizeMode="CanResize"
        Icon="JudyRuler.ico"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseMove="Window_MouseMove" 
        MouseLeftButtonUp="Window_MouseLeftButtonUp"
        SizeChanged="Window_SizeChanged"
        KeyDown="Window_KeyDown">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" ResizeBorderThickness="8" GlassFrameThickness="0" CornerRadius="0"/>
    </WindowChrome.WindowChrome>

    <Window.ContextMenu>
        <ContextMenu>
            <MenuItem Header="最上層顯示" IsCheckable="True" IsChecked="False" Click="MenuTopmost_Click"/>
            <MenuItem Header="度量比率">
                <MenuItem x:Name="MenuRatioToggle" Header="啟用邏輯比例" IsCheckable="True" IsChecked="False" Click="MenuRatioToggle_Click"/>
                <Separator />
                <MenuItem Header="設定度量比率..." Click="SetRatio_Click"/>
            </MenuItem>

            <MenuItem Header="量度單位">
                <MenuItem Header="像素 (px)" IsCheckable="True" IsChecked="True" Click="MenuUnit_Click"/>
                <MenuItem Header="公厘 (mm)" IsCheckable="True" Click="MenuUnit_Click"/>
            </MenuItem>

            <MenuItem Header="位置">
                <MenuItem x:Name="MenuPosLeft" Header="左" IsCheckable="True" Click="MenuPosition_Click"/>
                <MenuItem x:Name="MenuPosTop" Header="上" IsCheckable="True" IsChecked="True" Click="MenuPosition_Click"/>
                <MenuItem x:Name="MenuPosRight" Header="右" IsCheckable="True" Click="MenuPosition_Click"/>
                <MenuItem x:Name="MenuPosBottom" Header="下" IsCheckable="True" Click="MenuPosition_Click"/>
            </MenuItem>

            <MenuItem Header="透明度">
                <MenuItem Header="10%" IsCheckable="True" Click="MenuOpacity_Click"/>
                <MenuItem Header="20%" IsCheckable="True" Click="MenuOpacity_Click"/>
                <MenuItem Header="30%" IsCheckable="True" IsChecked="True" Click="MenuOpacity_Click"/>
                <MenuItem Header="40%" IsCheckable="True" Click="MenuOpacity_Click"/>
                <MenuItem Header="50%" IsCheckable="True" Click="MenuOpacity_Click"/>
                <MenuItem Header="60%" IsCheckable="True" Click="MenuOpacity_Click"/>
            </MenuItem>

            <Separator />
            <MenuItem Header="關於" Click="MenuAbout_Click"/>
            <MenuItem Header="離開" Click="MenuExit_Click"/>
        </ContextMenu>
    </Window.ContextMenu>

    <Grid x:Name="RulerBody" 
          Background="#AAFFFFFF" 
          HorizontalAlignment="Stretch" 
          VerticalAlignment="Stretch"
          ClipToBounds="False">

        <Canvas x:Name="RulerCanvas" Margin="0,0,0,0" ClipToBounds="False"/>

        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" IsHitTestVisible="False">
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center" IsHitTestVisible="False">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="22"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" Text="寬度(" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="0" Grid.Column="1" Text="W" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Grid.Row="0" Grid.Column="2" Text=")" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left"/>
                <TextBlock Grid.Row="0" Grid.Column="3" Text=":" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>

                <TextBlock Grid.Row="0" Grid.Column="4" x:Name="widthSize" Text="600" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="0" x:Name="unitW" Grid.Column="5" Text=" px" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="高度(" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="1" Grid.Column="1" Text="H" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Grid.Row="1" Grid.Column="2" Text=")" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left"/>
                <TextBlock Grid.Row="1" Grid.Column="3" Text=":" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>

                <TextBlock Grid.Row="1" Grid.Column="4" x:Name="heightSize" Text="150" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right"/>
                <TextBlock Grid.Row="1" x:Name="unitH" Grid.Column="5" Text=" px" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left"/>

                <TextBlock x:Name="logicTitleW1" Grid.Row="2" Grid.Column="0" Text="邏輯(" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleW2" Grid.Row="2" Grid.Column="1" Text="W" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleW3" Grid.Row="2" Grid.Column="2" Text=")" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleW4" Grid.Row="2" Grid.Column="3" Text=":" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Visibility="Collapsed"/>
                <TextBlock x:Name="logicSizeW" Grid.Row="2" Grid.Column="4" Text="0" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right" Visibility="Collapsed"/>
                <TextBlock x:Name="unitLW" Grid.Row="2" Grid.Column="5" Text=" unit" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Visibility="Collapsed"/>

                <TextBlock x:Name="logicTitleH1" Grid.Row="3" Grid.Column="0" Text="邏輯(" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleH2" Grid.Row="3" Grid.Column="1" Text="H" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleH3" Grid.Row="3" Grid.Column="2" Text=")" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Visibility="Collapsed"/>
                <TextBlock x:Name="logicTitleH4" Grid.Row="3" Grid.Column="3" Text=":" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Visibility="Collapsed"/>
                <TextBlock x:Name="logicSizeH" Grid.Row="3" Grid.Column="4" Text="0" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Right" Visibility="Collapsed"/>
                <TextBlock x:Name="unitLH" Grid.Row="3" Grid.Column="5" Text=" unit" FontFamily="Noto Sans" Foreground="#630909" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Visibility="Collapsed"/>
            </Grid>
        </StackPanel>

        <Image Source="/JudyRuler2.png" 
               Width="72" Height="72" 
               Stretch="Uniform"
               HorizontalAlignment="Right" 
               VerticalAlignment="Bottom"
               Margin="15,0,15,15"
               Opacity="0.8"
               Cursor="Hand" 
               MouseLeftButtonDown="Logo_MouseLeftButtonDown">
            <Image.Effect>
                <DropShadowEffect BlurRadius="5" Color="White" Opacity="0.5" ShadowDepth="1"/>
            </Image.Effect>
        </Image>

        
    </Grid>
</Window>